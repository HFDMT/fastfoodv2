<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>БыстроЕсть - Меню</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="container hedcon">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html"><img src="./images/logo_header.jpg" alt="logo"></a>
                </div>
                <nav class="nav-desktop">
                    <ul>
                        <li><a href="index.html">Главная</a></li>
                        <li><a href="menu.html">Меню</a></li>
                        <li><a href="about.html">О нас</a></li>
                        <li><a href="news.html">Новости</a></li>
                        <li><a href="contacts.html">Контакты</a></li>
                    </ul>
                </nav>
                <div class="header-right">
                    <div class="city">Вологда</div>
                    <button class="cart-btn" id="cartBtn">
                        <p>Корзина</p>
                        <span class="cart-count">0</span>
                    </button>
                </div>
                <button class="burger-menu" id="burgerMenu">
                    <img src="./images/menu.png" alt="menu">
                </button>
            </div>
        </div>
        <div class="mobile-menu" id="mobileMenu">
            <ul>
                <li><a href="index.html">Главная</a></li>
                <li><a href="menu.html">Меню</a></li>
                <li><a href="about.html">О нас</a></li>
                <li><a href="news.html">Новости</a></li>
                <li><a href="contacts.html">Контакты</a></li>
                <li><div class="city-mobile">
                        <button class="cart-btn" id="cartBtn">
                            <p>Корзина</p>
                            <span class="cart-count">0</span>
                        </button>
                    </div>
                </li>
            </ul>
        </div>
    </header>

    <main class="container" style="margin-top: 100px; padding: 40px 0;">
        <h1 class="section-title">Наше меню</h1>
        
        <div class="category-tabs">
            <button class="category-btn active" data-category="all">Все</button>
            <button class="category-btn" data-category="new">Новинки</button>
            <button class="category-btn" data-category="burgers">Бургеры</button>
            <button class="category-btn" data-category="rolls">Роллы</button>
            <button class="category-btn" data-category="pizza">Пиццы</button>
            <button class="category-btn" data-category="chicken">Сочная курица</button>
            <button class="category-btn" data-category="potato">Картофель</button>
            <button class="category-btn" data-category="snacks">Закуски</button>
            <button class="category-btn" data-category="drinks">Напитки</button>
            <button class="category-btn" data-category="desserts">Десерты</button>
            <button class="category-btn" data-category="sauces">Соусы</button>
        </div>
        
        <div class="products-grid" id="menuProducts">
            <!-- Продукты будут генерироваться через JS -->
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo"><img src="./images/logo_footer.png" alt="logo"></div>
                </div>
                <div class="footer-middle">
                    <h4>Контакты</h4>
                    <p>г. Вологда, ул. Пушкина, д. 10б</p>
                    <p><a href="tel:+7(594)321-54-76">+7 (594) 321-54-76</a></p>
                    <p><a href="mailto:info@bistroest.ru">info@bistroest.ru</a></p>
                    <p>Пн-сб: 8:00 - 20:00</p>
                    <p>Воскресенье - выходной</p>
                </div>
                <div class="footer-right">
                    <h4>Соц-сети</h4>
                    <div class="social-icons">
                        <a href="#">Вконтакте</a>
                        <a href="#">Телеграмм</a>
                        <a href="#">Рутуб</a>
                    </div>
                    <div class="delivery-partners">
                        <a href="#"><h5>ЯндексДоставка</h5></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <a href="#" class="polit">Политика конфиденциальности</a>
                <p>© 2025 БыстроЕсть</p>
                <p>Сделано - HeaFikeDid</p>
            </div>
        </div>
    </footer>

    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ваш заказ</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="cart-items" id="cartItems">
                    <p class="empty-cart">Корзина пуста</p>
                </div>
                <div class="cart-total">
                    <span>Итого:</span>
                    <span id="cartTotal">0 ₽</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="order-btn">Оформить заказ</button>
            </div>
        </div>
    </div>

    <script>
        // Расширенные данные для меню
        const menuProducts = [
            { id: 1, name: "Классический Бургер", price: 256, category: "burgers", image: "product1.png" },
            { id: 2, name: "Ролл с курицей", price: 156, category: "rolls", image: "product2.png" },
            { id: 3, name: "Картошка фри", price: 161, category: "potato", image: "product3.png" },
            { id: 4, name: "Курочка BBQ", price: 206, category: "chicken", image: "product4.png" },
            { id: 5, name: "Шоколадный милкшейк", price: 106, category: "drinks", image: "product5.png" },
            { id: 6, name: "Чизкейк Нью-Йорк", price: 102, category: "desserts", image: "product6.png" },
            { id: 7, name: "Наггетсы 6 шт", price: 207, category: "snacks", image: "product7.png" },
            { id: 8, name: "Люксовый Бургер", price: 556, category: "new", image: "product8.png" },
            { id: 9, name: "Соус сырный", price: 56, category: "sauces", image: "product9.png" },
            { id: 10, name: "Пепперони Пицца", price: 356, category: "pizza", image: "product10.png" },
            { id: 11, name: "Маргарита Пицца", price: 320, category: "pizza", image: "product11.png" },
            { id: 12, name: "Ролл с лососем", price: 180, category: "rolls", image: "product2.png" }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            renderMenuProducts('all');
            
            // Обработчики для кнопок категорий
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderMenuProducts(btn.dataset.category);
                });
            });
        });

        function renderMenuProducts(category) {
            const menuProductsGrid = document.getElementById('menuProducts');
            menuProductsGrid.innerHTML = '';
            
            const filteredProducts = category === 'all' 
                ? menuProducts 
                : menuProducts.filter(product => product.category === category);
            
            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image"><img src="./images/${product.image}" alt="${product.image}"></div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">${product.price} ₽</div>
                        <button class="add-to-cart" data-id="${product.id}" data-price="${product.price}" data-name="${product.name}">
                            В корзину
                        </button>
                    </div>
                `;
                menuProductsGrid.appendChild(productCard);
            });
            
            // Добавляем обработчики событий для кнопок "В корзину"
            document.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.dataset.id);
                    const productName = e.target.dataset.name;
                    const productPrice = parseInt(e.target.dataset.price);
                    
                    // Используем функции из основного скрипта
                    const existingItem = cart.find(item => item.id === productId);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id: productId,
                            name: productName,
                            price: productPrice,
                            quantity: 1
                        });
                    }
                    
                    saveCartToStorage();
                    updateCartUI();
                });
            });
        }
    </script>
    <script src="script.js"></script>
</body>
</html>